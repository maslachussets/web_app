(function(){"use strict";var e={2451:function(e,t,n){var a=n(3751),i=n(641);const r={id:"app"},o={id:"root"},s={class:"container"},l={class:"main-block"};function c(e,t,n,a,c,u){const m=(0,i.g2)("PlayerAchiv"),p=(0,i.g2)("PlayerBal"),d=(0,i.g2)("InfoPanel"),h=(0,i.g2)("TapConfig"),g=(0,i.g2)("TapArea"),f=(0,i.g2)("ButtonBlock");return(0,i.uX)(),(0,i.CE)("div",r,[(0,i.Lk)("div",o,[(0,i.Lk)("div",s,[(0,i.Lk)("div",l,[(0,i.bF)(m),(0,i.bF)(p,{balCount:c.balCount},null,8,["balCount"]),(0,i.bF)(d,{tapCount:c.tapCount,tapValue:c.tapValue,remainingEnergy:c.remainingEnergy,nextRestoreTime:c.nextRestoreTime},null,8,["tapCount","tapValue","remainingEnergy","nextRestoreTime"])]),(0,i.bF)(h,{ref:"tapConfig",onUpdateTapValue:u.updateTapValue,onUpdateEnergy:u.updateEnergy,onUpdateBalance:u.updateBalance},null,8,["onUpdateTapValue","onUpdateEnergy","onUpdateBalance"]),(0,i.bF)(g,{tapValue:c.tapValue,remainingEnergy:c.remainingEnergy,onTap:u.handleTap,onConsumeEnergy:u.consumeEnergy},null,8,["tapValue","remainingEnergy","onTap","onConsumeEnergy"]),(0,i.bF)(f)])])])}var u=n.p+"img/anonym.417b634a.svg";const m={class:"achievement"},p=(0,i.Lk)("img",{class:"achi-img",src:u},null,-1),d=(0,i.Lk)("div",{class:"achievement-name"},"Hamster",-1),h=[p,d];function g(e,t,n,a,r,o){return(0,i.uX)(),(0,i.CE)("div",m,h)}var f={name:"PlayerAchiv"},y=n(6262);const k=(0,y.A)(f,[["render",g]]);var v=k,x=n(33),b=n.p+"img/Gcoinlogo.23ce5f3d.svg";const E=e=>((0,i.Qi)("data-v-fcd68996"),e=e(),(0,i.jt)(),e),T={class:"balance"},A=E((()=>(0,i.Lk)("img",{class:"bal-logo",src:b},null,-1)));function B(e,t,n,a,r,o){return(0,i.uX)(),(0,i.CE)("div",T,[A,(0,i.Lk)("div",{class:(0,x.C4)(["bal-count",o.fontSizeClass])},(0,x.v_)(o.formattedBalCount),3)])}var C={name:"PlayerBal",props:{balCount:{type:String,required:!0,default:"0"}},computed:{fontSizeClass(){if(!this.balCount)return"font-size-normal";const e=this.balCount.length;return e>18?"font-size-smallest":e>15?"font-size-smaller":e>12?"font-size-small":"font-size-normal"},formattedBalCount(){return this.balCount.replace(/\B(?=(\d{3})+(?!\d))/g,",")}}};const V=(0,y.A)(C,[["render",B],["__scopeId","data-v-fcd68996"]]);var w=V,S=n.p+"img/block.dc522f14.svg",L=n.p+"img/buffer.fb2446b8.svg",_=n.p+"img/tap.7e82db46.svg";const P=e=>((0,i.Qi)("data-v-ed3d4ff6"),e=e(),(0,i.jt)(),e),D={class:"infopanel"},O={class:"infopanel-wrapper"},G={class:"infopanel-item-first"},R={class:"infopanel-item"},F=P((()=>(0,i.Lk)("img",{src:S},null,-1))),$={class:"item-var"},j={class:"timer"},I={class:"infopanel-item"},X=P((()=>(0,i.Lk)("img",{src:L},null,-1))),q={class:"item-var"},z={class:"infopanel-item"},N=P((()=>(0,i.Lk)("img",{src:_},null,-1))),M={class:"item-var"};function U(e,t,n,a,r,o){const s=(0,i.g2)("LottieAnimation");return(0,i.uX)(),(0,i.CE)("div",D,[(0,i.Lk)("div",O,[(0,i.Lk)("div",G,[(0,i.Lk)("div",R,[F,(0,i.Lk)("div",$,(0,x.v_)(Math.ceil(n.remainingEnergy/r.energyPerBlock))+"/"+(0,x.v_)(r.totalEnergyBlocks),1)]),(0,i.Lk)("div",{class:(0,x.C4)(["clock-block",{hidden:0===n.nextRestoreTime}])},[(0,i.bF)(s,{animationData:r.animationData,color:"#E77812"},null,8,["animationData"]),(0,i.Lk)("div",j,(0,x.v_)(o.formattedTime),1)],2)]),(0,i.Lk)("div",I,[X,(0,i.Lk)("div",q,(0,x.v_)(n.tapCount),1)]),(0,i.Lk)("div",z,[N,(0,i.Lk)("div",M,(0,x.v_)(n.tapValue),1)])])])}const W={ref:"lottieContainer",class:"lottie-animation"};function H(e,t,n,a,r,o){return(0,i.uX)(),(0,i.CE)("div",W,null,512)}var Y=n(3509),Q=n.n(Y),J={name:"LottieAnimation",props:{animationData:{type:Object,required:!0},loop:{type:Boolean,default:!0},autoplay:{type:Boolean,default:!0},color:{type:String,default:null}},mounted(){this.loadAnimation()},methods:{loadAnimation(){const e=Q().loadAnimation({container:this.$refs.lottieContainer,renderer:"svg",loop:this.loop,autoplay:this.autoplay,animationData:this.animationData});this.color&&e.addEventListener("DOMLoaded",(()=>{this.changeColor(e)}))},changeColor(e){const t=e.renderer.svgElement,n=t.querySelectorAll("path, rect, circle, polygon, polyline, ellipse, line");n.forEach((e=>{e.setAttribute("stroke",this.color),e.setAttribute("fill",this.color)}))}}};const K=(0,y.A)(J,[["render",H],["__scopeId","data-v-3c745ae4"]]);var Z=K,ee=JSON.parse('{"v":"5.9.6","fr":60,"ip":0,"op":180,"w":512,"h":512,"nm":"menu_secret_chat","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"icon","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[256,256,0],"ix":2,"l":2},"a":{"a":0,"k":[90,90,0],"ix":1,"l":2},"s":{"a":1,"k":[{"i":{"x":[0.4,0.4,0.4],"y":[1,1,1]},"o":{"x":[0.6,0.6,0.6],"y":[0,0,0]},"t":0,"s":[284.444,284.444,100]},{"i":{"x":[0.4,0.4,0.4],"y":[1,1,1]},"o":{"x":[0.6,0.6,0.6],"y":[0,0,0]},"t":10,"s":[318.578,318.578,100]},{"i":{"x":[0.4,0.4,0.4],"y":[1,1,1]},"o":{"x":[0.6,0.6,0.6],"y":[0,0,0]},"t":20,"s":[270.222,270.222,100]},{"t":29,"s":[284.444,284.444,100]}],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-2.761,0],[0,2.761],[2.761,0],[0,-2.761]],"o":[[2.761,0],[0,-2.761],[-2.761,0],[0,2.761]],"v":[[0,5],[5,0],[0,-5],[-5,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.039215687662,0.517647087574,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":10,"ix":5},"lc":1,"lj":1,"ml":10,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[90,90],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[90,90],[90,52.5]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.039215687662,0.517647087574,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":9.975,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[90.028,90.034],"ix":2},"a":{"a":0,"k":[90.028,90.034],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":1,"k":[{"i":{"x":[0.4],"y":[1]},"o":{"x":[0.6],"y":[0]},"t":8,"s":[0]},{"t":29,"s":[360]}],"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[90,30],[90,15]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.039215687662,0.517647087574,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":9.975,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-5.008,4.977],[5.008,-4.977]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.4],"y":[1]},"o":{"x":[0.6],"y":[0]},"t":0,"s":[100]},{"i":{"x":[0.4],"y":[1]},"o":{"x":[0.6],"y":[0]},"t":8,"s":[0]},{"t":16,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0.039215687662,0.517647087574,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":9.975,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[137.492,42.477],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":3,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-33.137,0],[0,33.137],[33.137,0],[0,-33.137]],"o":[[33.137,0],[0,-33.137],[-33.137,0],[0,33.137]],"v":[[0,60],[60,0],[0,-60],[-60,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.039215687662,0.517647087574,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":9.975,"ix":5},"lc":1,"lj":1,"ml":10,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[90,90],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":2,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":180,"st":0,"ct":1,"bm":0}],"markers":[]}'),te={name:"InfoPanel",components:{LottieAnimation:Z},props:{tapCount:{type:Number,required:!0},tapValue:{type:Number,required:!0},remainingEnergy:{type:Number,required:!0},nextRestoreTime:{type:Number,required:!0}},data(){return{animationData:ee,energyPerBlock:256,totalEnergyBlocks:4}},computed:{formattedTime(){const e=Math.floor(this.nextRestoreTime/6e4),t=Math.floor(this.nextRestoreTime%6e4/1e3);return`${e}:${t<10?"0":""}${t}`}}};const ne=(0,y.A)(te,[["render",U],["__scopeId","data-v-ed3d4ff6"]]);var ae=ne,ie=n.p+"img/main_tapper.881f7719.svg";const re={class:"tap-wrapper"},oe={ref:"tapper",class:"tapper",id:"tapper",src:ie};function se(e,t,n,a,r,o){return(0,i.uX)(),(0,i.CE)("div",{class:"tap-container",onTouchstart:t[0]||(t[0]=(...e)=>o.handleTouchStart&&o.handleTouchStart(...e)),onTouchend:t[1]||(t[1]=(...e)=>o.handleTouchEnd&&o.handleTouchEnd(...e)),onTouchcancel:t[2]||(t[2]=(...e)=>o.handleTouchEnd&&o.handleTouchEnd(...e))},[(0,i.Lk)("div",re,[(0,i.Lk)("img",oe,null,512)]),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(r.plusOnes,(e=>((0,i.uX)(),(0,i.CE)("div",{class:"plus-one",key:e.id,style:(0,x.Tr)(e.style)}," +"+(0,x.v_)(n.tapValue),5)))),128))],32)}n(4114);var le={name:"TapArea",props:{tapValue:{type:Number,default:1},remainingEnergy:{type:Number,required:!0}},data(){return{activeTouches:0,plusOnes:[]}},methods:{handleTouchStart(e){this.remainingEnergy<=0||(this.activeTouches+=e.changedTouches.length,this.updateScale(),this.showPlusOne(e.changedTouches),this.emitTapEvent(),this.triggerVibration(),this.consumeEnergy())},handleTouchEnd(e){this.activeTouches-=e.changedTouches.length,this.activeTouches<0&&(this.activeTouches=0),this.updateScale()},updateScale(){this.activeTouches>0?this.$refs.tapper.style.transform="scale(0.985)":this.$refs.tapper.style.transform="scale(1)"},showPlusOne(e){Array.from(e).forEach((e=>{const t=e.clientX,n=e.clientY,a=Date.now()+Math.random(),i={id:a,style:{position:"absolute",left:`${t}px`,top:`${n}px`,opacity:1,transform:"translateY(0)",transition:"transform 0.8s ease-out, opacity 1s ease-out"}};this.plusOnes.push(i),requestAnimationFrame((()=>{requestAnimationFrame((()=>{i.style.opacity=0,i.style.transform="translateY(-100px)"}))})),setTimeout((()=>{this.plusOnes=this.plusOnes.filter((e=>e.id!==a))}),1e3)}))},emitTapEvent(){this.$emit("tap",this.tapValue)},triggerVibration(){window.Telegram&&window.Telegram.WebApp&&window.Telegram.WebApp.HapticFeedback&&window.Telegram.WebApp.HapticFeedback.impactOccurred("medium")},consumeEnergy(){this.$emit("consumeEnergy")}}};const ce=(0,y.A)(le,[["render",se],["__scopeId","data-v-1d27fada"]]);var ue=ce,me=n.p+"img/boost_ico.216862c1.svg",pe=n.p+"img/fren_ico.6b357351.svg";const de={class:"button-block"},he=(0,i.Fv)('<div class="button-item"><button class="button-large" id="boost"><img class="button-icon" src="'+me+'"><div class="button-text">Boosts</div></button></div><div class="button-item"><button class="button-large" id="fren"><img class="button-icon" src="'+pe+'"><div class="button-text">Invite frens</div></button></div>',2),ge=[he];function fe(e,t,n,a,r,o){return(0,i.uX)(),(0,i.CE)("div",de,ge)}var ye={name:"ButtonBlock"};const ke=(0,y.A)(ye,[["render",fe]]);var ve=ke;const xe={class:"tap-config"};function be(e,t,n,a,r,o){return(0,i.uX)(),(0,i.CE)("div",xe)}const Ee=()=>new Promise((e=>{setTimeout((()=>{e({tapValue:2,remainingEnergy:1024})}),500)})),Te=()=>new Promise((e=>{setTimeout((()=>{e({balance:"1000000"})}),500)}));var Ae={name:"TapConfig",data(){return{tapValue:1,totalEnergyBlocks:4,energyPerBlock:256,remainingEnergy:1024,restoreTimers:[],restoreTime:15e3}},mounted(){this.fetchInitialState(),this.fetchBalance()},methods:{fetchInitialState(){Ee().then((e=>{this.tapValue=e.tapValue,this.remainingEnergy=e.remainingEnergy,this.$emit("updateTapValue",this.tapValue),this.$emit("updateEnergy",this.remainingEnergy)})).catch((e=>console.error("Error fetching initial state:",e)))},fetchBalance(){Te().then((e=>{this.$emit("updateBalance",e.balance)})).catch((e=>console.error("Error fetching user balance:",e)))},consumeEnergy(){this.remainingEnergy>0&&(this.remainingEnergy-=1,this.$emit("updateEnergy",this.remainingEnergy),this.remainingEnergy%this.energyPerBlock===0&&this.startRestoreTimer())},startRestoreTimer(){const e=setTimeout((()=>{this.remainingEnergy+=this.energyPerBlock,this.$emit("updateEnergy",this.remainingEnergy),this.restoreTimers.shift()}),this.restoreTime);this.restoreTimers.push(e)}}};const Be=(0,y.A)(Ae,[["render",be],["__scopeId","data-v-aa5b163e"]]);var Ce=Be,Ve={name:"App",components:{PlayerAchiv:v,PlayerBal:w,InfoPanel:ae,TapArea:ue,ButtonBlock:ve,TapConfig:Ce},data(){return{tg:null,tapCount:0,tapValue:1,remainingEnergy:1024,nextRestoreTime:0,balCount:"0"}},mounted(){window.Telegram&&window.Telegram.WebApp&&(this.tg=window.Telegram.WebApp,this.tg.ready())},methods:{handleTap(e){this.tapCount+=e},updateTapValue(e){this.tapValue=e},updateEnergy(e){this.remainingEnergy=e,this.remainingEnergy%256===0&&this.remainingEnergy<1024&&this.startRestoreTimer()},consumeEnergy(){this.remainingEnergy>0&&(this.remainingEnergy-=1,this.remainingEnergy%256===0&&this.remainingEnergy<1024&&this.startRestoreTimer())},startRestoreTimer(){const e=15e3;0===this.nextRestoreTime?this.nextRestoreTime=e:this.nextRestoreTime+=e;const t=setInterval((()=>{this.nextRestoreTime-=1e3,this.nextRestoreTime<=0&&(clearInterval(t),this.remainingEnergy+=256,this.remainingEnergy>1024&&(this.remainingEnergy=1024))}),1e3)},updateBalance(e){this.balCount=e}}};const we=(0,y.A)(Ve,[["render",c]]);var Se=we;(0,a.Ef)(Se).mount("#app")}},t={};function n(a){var i=t[a];if(void 0!==i)return i.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,n),r.exports}n.m=e,function(){n.amdO={}}(),function(){var e=[];n.O=function(t,a,i,r){if(!a){var o=1/0;for(u=0;u<e.length;u++){a=e[u][0],i=e[u][1],r=e[u][2];for(var s=!0,l=0;l<a.length;l++)(!1&r||o>=r)&&Object.keys(n.O).every((function(e){return n.O[e](a[l])}))?a.splice(l--,1):(s=!1,r<o&&(o=r));if(s){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[a,i,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.p="/web_app/"}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var i,r,o=a[0],s=a[1],l=a[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)var u=l(n)}for(t&&t(a);c<o.length;c++)r=o[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(u)},a=self["webpackChunkglyph_app"]=self["webpackChunkglyph_app"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],(function(){return n(2451)}));a=n.O(a)})();
//# sourceMappingURL=app.166b5654.js.map